# Section07. 접근 제어자

## 접근 제어자가 필요한 이유

접근 제어자는 객체 내부의 중요한 데이터를 보호하기 위해서다. 예를 들어, 스피커의 `volume` 필드를 `public`으로 두면 외부에서 직접 값을 변경할 수 있어, 요구사항(100 초과 금지)을 무시하고 오류가 발생할 수 있다. 이를 막기 위해 `private`으로 필드를 감추고, 안전한 방식으로만 접근할 수 있도록 메서드로 제한하는 것이 캡슐화이며, 그 핵심 도구가 접근 제어자이다.

## `private`으로 문제 해결하기

이 문제의 근본적인 해결책은 `volume` 필드를 `Speaker` 클래스 외부에서는 접근하지 못하게 막는 것이다. `private` 접근 제어자는 모든 외부 호출을 막는다. 따라서 `private`이 붙은 경우 해당 클래스 내부에서만 호출할 수 있다. `volume` 필드를 `private`으로 변경하면, 외부에서 직접 접근할 수 없게 된다. 이제 `volume` 필드는 `Speaker` 내부에서만 접근할 수 있다. `Speaker` 외부에서 `volume` 필드에 직접 접근하는 것은 불가능하다.

## 💡

좋은 프로그램은 무한한 자유도가 주어지는 프로그램이 아니라 **적절한 제약을 제공하는 프로그램**이다.

## 접근 제어자 종류

- `private`
    - 모든 외부 호출을 막는다.
    - 나의 클래스 안으로 속성과 기능을 숨길 때 사용한다.
    - 외부 클래스에서 해당 기능을 호출할 수 없다.
- `default(package-private)`
    - 같은 패키지안에서 호출은 허용한다.
    - 접근 제어자를 명시하지 않으면 같은 패키지 안에서 호출을 허용하는 `default` 접근 제어자가 적용된다.
    - 나의 패키지 안으로 속성과 기능을 숨길 때 사용한다.
    - 외부 패키지에서 해당 기능을 호출할 수 없다.
- `protected`
    - 같은 패키지안에서 호출은 허용한다.
    - 패키지가 달라도 상속 관계의 호출은 허용한다.
    - 상속 관계로 속성과 기능을 숨길 때 사용한다.
    - 상속 관계가 아닌 곳에서 해당 기능을 호출할 수 없다.
- `public`
    - 모든 외부 호출을 허용한다.
    - 기능을 숨기지 않고 어디서든 호출할 수 있게 공개한다.
- ⚠️
    - 클래스 레벨의 접근 제어자는 `public`, `default`만 사용할 수 있다.
    - public 클래스는 반드시 파일명과 이름이 같아야 한다.
        - 하나의 자바 파일에 public 클래스는 하나만 존재한다.
        - 하나의 자바 파일에 default 클래스는 무한정 만들 수 있다.

## 캡슐화

- 데이터와 해당 데이터를 처리하는 메서드를 하나로 묶어서 외부에서의 접근을 제한하는 것이다.
- 데이터의 직접적인 변경을 방지하거나 제한할 수 있다.
- 속성과 기능을 하나로 묶고, 외부에 꼭 필요한 기능만 노출하고 나머지는 모두 내부로 숨기는 것이다.
- 어떤 것을 숨기고 어떤 것을 노출해야 할까?
    1. 데이터
        1. 캡슐화에서 가장 필수로 숨겨하는 것은 속성(데이터)이다.
        2. 객체 내부의 데이터를 외부에서 함부로 접근하게 두면, 클래스 안에서 데이터를 다루는 모든 로직을 무시하고 데이터를 변경할 수 있다.
        3. **객체의 데이터는 객체가 제공하는 기능인 메서드를 통해서 접근해야 한다.**
    2. 기능
        1. 객체의 기능 중에서 내부에서 사용하는 기능들은 감추는 것이 좋다.
        2. 사용자 입장에서 꼭 필요한 기능만 외부애 노출하고 나머지 기능은 내부로 숨긴다.

  > 데이터는 모두 숨기고, 필요한 기능만 노출하는 것이 좋은 캡슐화이다.
